language: java

sudo: false
# build fat executable single jar
# to run it execute: java -jar ./target/travisMvnGce-1.0-SNAPSHOT-jar-with-dependencies.jar
script: mvn clean package
  # Skip cleanup so api_key.py and vendored dependencies are still there
skip_cleanup: true

deploy:
  provider: script
  script: bash start.sh
  on:
    branch: master

notifications: # set notification options
  email:
    recipients:
      - uvidit@gmail.com
    # change is when the repo status goes from pass to fail or vice versa
#    on_success: [always|never|change]
#    on_failure: [always|never|change]
    on_success: [change]
    on_failure: [always]
  # Or we could just disable all email
  email: false

