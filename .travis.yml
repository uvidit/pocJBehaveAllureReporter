language: java

sudo: false
before_script:
  - openssl aes-256-cbc -K $encrypted_c5904ac432bd_key -iv $encrypted_c5904ac432bd_iv -in super_secret.txt.enc -out super_secret.txt -d
#  # If the SDK is not already cached, download it and unpack it
#
#
## build fat executable single jar
##   to run it execute: java -jar ./target/travisMvnGce-1.0-SNAPSHOT-jar-with-dependencies.jar
script: mvn clean package
# Skip cleanup so api_key.py and vendored dependencies are still there
skip_cleanup: true

deploy:
  provider: script
  script: bash start.sh
  on:
    branch: master

notifications: # set notification options
  email:
    recipients:
      - uvidit@gmail.com
    # change is when the repo status goes from pass to fail or vice versa
#    on_success: [always|never|change]
#    on_failure: [always|never|change]
    on_success: [change]
    on_failure: [always]
  # Or we could just disable all email
#  email: false

